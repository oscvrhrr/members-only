<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/output.css">
    <title>Document</title>
</head>
<body class="bg-gray-100 text-gray-900  font-sans">
    <% if (user) {%>
        <nav class="flex justify-between mx-32 my-8">
          <p>members <span class="text-violet-400">ONLY</span></p>
          <div class="flex flex-col items-center">
            <h2 class="text-4xl font-bold uppercase">WELCOME BACK <%= user.username %>!</h1>
            <p>(<%= user.member_status %>)</p>
          </div>
          <div>
            <a class="bg-gray-200 border border-gray-300 hover:bg-violet-300 hover:transition ease-in rounded-full inline-block h-fit px-3 py-1" href="/member">Member</a>
            <a class="bg-gray-200 border border-gray-300 hover:bg-violet-300 hover:transition ease-in rounded-full inline-block h-fit px-3 py-1" href="/logout">Log out</a>
          </div>
        </nav>
        <main class="lg:flex flex-col">
          <div class="lg:flex lg:items-center lg:mx-auto">
            <h1 class="lg:text-center lg:text-7xl lg:tracking-wide lg:font-extrabold mt-10 text-gray-400/80">Messages</h1>
            <a class="bg-gray-200 border border-gray-300 hover:bg-violet-300 hover:transition ease-in rounded-full inline-block h-fit px-3 py-1 ml-2 mt-4" href="/message">+ Message</a>
          </div>
          <section>
            <% messages.forEach((message) => { %>
              <div class="lg:border border-gray-300 lg:w-2/5 lg:mx-auto lg:rounded-md p-4 bg-gray-200 lg:my-2">
                <h2><%= message.username %></h2>
                <h3><%= message.title %></h2>
               <p><%= message.message %></p> 
              </div>
           <% }) %>

          </section>
        </main>
      <% } else { %>
      
        <form action="/login" method="POST" class="lg:flex lg:flex-col lg:w-3/5 bg-gray-200 mx-32 border border-gray-300 p-4">
          <h1 class="text-center">Please log in</h1>
          <label for="username">Username</label>
          <input type="text" name="username" id="username" class="lg:rounded-md lg:bg-gray1` border-zinc-600 lg:border lg:p-2" required>
          <label for="password">Password</label>
          <input type="password" name="password" id="password" class="lg:rounded-md lg:bg-gray-100 border-zinc-600 lg:border lg:p-2" required>
          <button class="bg-violet-300 lg:p-2 lg:rounded-md lg:text-zinc-900 lg:mt-4">Log in</button>
        </form>
      <%}%>
    
</body>
</html>